command: status
description: Test cases for lctx status command

test_cases:
  - name: status_healthy_project
    description: Status shows sync state of healthy project
    fixture: healthy-project
    command: uv run lctx status
    expected:
      exit_code: 0
      stdout_contains: ["sync", "up-to-date", "current"]

  - name: status_unhealthy_project
    description: Status detects out-of-sync state
    fixture: unhealthy-project
    command: uv run lctx status
    expected:
      exit_code: 1
      stdout_contains: ["out-of-sync", "stale", "mismatch"]

  - name: status_json_output
    description: JSON output includes system counts and status
    fixture: healthy-project
    command: uv run lctx status --json
    expected:
      exit_code: 0
      json_fields: ["systems", "status", "last_updated"]

  - name: status_partial_project
    description: Status identifies missing system documentation
    fixture: partial-project
    command: uv run lctx status
    expected:
      exit_code: 1
      stdout_contains: ["incomplete", "missing"]

  - name: status_verbose
    description: Verbose mode shows detailed system information
    fixture: healthy-project
    command: uv run lctx status --verbose
    expected:
      exit_code: 0
      stdout_contains: ["system", "dependencies"]
